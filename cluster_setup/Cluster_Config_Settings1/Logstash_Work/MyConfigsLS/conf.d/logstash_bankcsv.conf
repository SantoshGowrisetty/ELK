input {
     file {
      path => "/home/elk/Downloads/Bank_full.csv"
      start_position => "beginning"
      sincedb_path => "/dev/null"
      }
}
filter {
     csv {
         separator => ","
         columns => ["age","job","marital","education","default","balance","housing","loan","contact","day","month","duration","campaign","pdays","previous","poutcome","y"]
     }
     mutate {convert => ["age","integer"]}
     mutate {convert => ["balance","float"]}
     mutate {convert => ["duration","integer"]}

}

output {
  elasticsearch {
    hosts => ["https://n1:9200","https://n2:9200","https://n3:9200"]
    ssl_certificate_verification => true
    cacert => '/etc/logstash/certs/ca.crt'
    index => "bankdata"
    user => 'elastic'
    password => 'abcd@1234'
  }


      stdout {}
}

